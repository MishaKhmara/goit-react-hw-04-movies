(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{11:function(e,t,a){e.exports={list:"Header_list__1NDlm",listItem:"Header_listItem__1G_xS",Header:"Header_Header__111xq",link:"Header_link__2-TI7",activeLink:"Header_activeLink__k0ycK"}},16:function(e,t,a){e.exports={list:"SecondaryNav_list__1SbpD",listItem:"SecondaryNav_listItem__16ZH_",Header:"SecondaryNav_Header__36Kgx",link:"SecondaryNav_link__ctGTL",activeLink:"SecondaryNav_activeLink__1MK49"}},17:function(e,t,a){"use strict";var n=a(10),r=a.n(n),c=a(19),s=a(20),i=a.n(s),o="8d4dbcc91599f2a2050190ab7ea9b537",l="https://api.themoviedb.org/3",u={GetMovieTrending:function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("".concat(l,"/trending/movie/week?api_key=").concat(o));case 3:return t=e.sent,e.abrupt("return",t.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),GetSearchMovies:function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("".concat(l,"/search/movie?api_key=").concat(o,"&query=").concat(t,"&language=en-US&page=1&include_adult=false"));case 3:return a=e.sent,e.abrupt("return",a.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),GetMovieDetails:function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("".concat(l,"/movie/").concat(t,"?api_key=").concat(o,"&language=en-US"));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),GetMovieCredits:function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("".concat(l,"/movie/").concat(t,"/credits?api_key=").concat(o));case 3:return a=e.sent,e.abrupt("return",a.data.cast);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),GetMovieReviews:function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("".concat(l,"/movie/").concat(t,"/reviews?api_key=").concat(o,"&language=en-US&page=1"));case 3:return a=e.sent,e.abrupt("return",a.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()};t.a=u},21:function(e,t,a){e.exports={Searchbar:"MoviesSeartch_Searchbar__2f5eh",SearchForm:"MoviesSeartch_SearchForm__-0joW",SearchFormButton:"MoviesSeartch_SearchFormButton__Gyb4q",SearchFormButtonLabel:"MoviesSeartch_SearchFormButtonLabel__jvB6I",SearchFormInput:"MoviesSeartch_SearchFormInput__5p8T_"}},22:function(e,t,a){e.exports={images:"MovieDetails_images__3ekRg",movieTitle:"MovieDetails_movieTitle__2mVJB",Details:"MovieDetails_Details__2pyXP",DetailsWraper:"MovieDetails_DetailsWraper__28mS3",Genres:"MovieDetails_Genres__3P7qe"}},25:function(e,t,a){e.exports={moviesCard:"MoviesList_moviesCard__2hJ1v",moviesList:"MoviesList_moviesList__euzDs",moviesListItem:"MoviesList_moviesListItem__Q1-r7"}},40:function(e,t,a){e.exports={title:"HomePage_title__1ecZn"}},43:function(e,t,a){e.exports={Loader:"Loader_Loader__3zodf"}},48:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(38),c=a.n(r),s=(a(48),a(8)),i=a(11),o=a.n(i),l={home:"/",moviePage:"/movies",movieDetails:"/movies/:movieId",cast:"/movies/:movieId/cast",reviews:"/movies/:movieId/reviews"},u=a(0),h=function(){return Object(u.jsx)("header",{className:o.a.Header,children:Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{className:o.a.list,children:[Object(u.jsx)("li",{className:o.a.listItem,children:Object(u.jsx)(s.b,{exact:!0,to:l.home,className:o.a.link,activeClassName:o.a.activeLink,children:"Home"})}),Object(u.jsx)("li",{className:o.a.listItem,children:Object(u.jsx)(s.b,{to:l.moviePage,className:o.a.link,activeClassName:o.a.activeLink,children:"Movies"})})]})})})},v=a(3),m=a(12),j=a(13),p=a(15),d=a(14),b=a(25),f=a.n(b),O=Object(v.f)((function(e){var t=e.movies,a=e.location;return Object(u.jsx)("ul",{className:f.a.moviesList,children:t.map((function(e){var t=e.id,n=e.poster_path,r=e.title;return Object(u.jsx)("li",{className:f.a.moviesListItem,children:Object(u.jsxs)(s.b,{to:{pathname:"".concat(l.moviePage,"/").concat(t),state:{from:a}},children:[Object(u.jsx)("img",{className:f.a.moviesCard,src:n&&"https://image.tmdb.org/t/p/w500/".concat(n),alt:"".concat(r," poster")}),Object(u.jsx)("h4",{children:r})]})},t)}))})})),_=a(17),x=a(40),g=a.n(x),y=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[]},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;_.a.GetMovieTrending().then((function(t){return e.setState({movies:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{className:g.a.title,children:"Trending today"}),Object(u.jsx)(O,{movies:this.state.movies})]})}}]),a}(n.Component),S=a(21),w=a.n(S),k=a(2),N=a.n(k),M=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={qwery:""},e.hendleChange=function(t){e.setState({qwery:t.currentTarget.value})},e.hendleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.qwery),e.setState({qwery:""})},e}return Object(j.a)(a,[{key:"render",value:function(){return Object(u.jsx)("div",{className:w.a.Searchbar,children:Object(u.jsxs)("form",{onSubmit:this.hendleSubmit,className:w.a.SearchForm,children:[Object(u.jsx)("button",{type:"submit",className:w.a.SearchFormButton,children:Object(u.jsx)("span",{className:w.a.SearchFormButtonLabel,children:"Search"})}),Object(u.jsx)("input",{className:w.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:this.hendleChange})]})})}}]),a}(n.Component);M.protoType={qwery:N.a.string};var L=M,D=a(41),I=a.n(D),F=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],page:"",error:null,query:""},e.handleSubmit=function(t){var a=e.props.history;e.setState({query:t}),_.a.GetSearchMovies(t).then((function(t){e.setState({movies:t})})).catch((function(e){return console.log(e)})),a.push({pathname:a.pathname,search:"query=".concat(t)})},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location,a=I.a.parse(t.search).query;a&&_.a.GetSearchMovies(a).then((function(t){e.setState({movies:t})}))}},{key:"render",value:function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(L,{onSubmit:this.handleSubmit}),Object(u.jsx)(O,{movies:this.state.movies,location:this.props.location})]})}}]),a}(n.Component),G=a(23),C=a(16),q=a.n(C),H=Object(v.f)((function(e){var t=e.url,a=e.location;return Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{className:q.a.list,children:[Object(u.jsx)("li",{className:q.a.listItem,children:Object(u.jsx)(s.b,{to:{pathname:"".concat(t,"/cast"),state:{from:a}},className:q.a.link,activeClassName:q.a.activeLink,children:"Cast"})}),Object(u.jsx)("li",{className:q.a.listItem,children:Object(u.jsx)(s.b,{to:{pathname:"".concat(t,"/reviews"),state:{from:a}},className:q.a.link,activeClassName:q.a.activeLink,children:"Reviews"})})]})})})),B=a(22),T=a.n(B),P=function(e){var t=e.state;return Object(u.jsxs)("div",{className:T.a.Details,children:[Object(u.jsx)("img",{className:T.a.images,src:t.poster_path&&"https://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:"".concat(t.title," poster")}),Object(u.jsxs)("div",{className:T.a.DetailsWraper,children:[Object(u.jsx)("h1",{className:T.a.movieTitle,children:t.title}),Object(u.jsxs)("p",{children:[" Release date: ",t.release_date]}),Object(u.jsxs)("p",{children:["User Score:",Object(u.jsxs)("span",{children:[" ",10*t.vote_average,"%"]})]}),Object(u.jsx)("h2",{children:"Overview"}),Object(u.jsx)("p",{children:t.overview}),Object(u.jsx)("h2",{children:"Genres"}),t.genres.map((function(e){return Object(u.jsx)("span",{className:T.a.Genres,children:e.name},e.id)}))]})]})},A=a(42),E=a.n(A),z=(a(93),a(43)),J=a.n(z),R=function(){return Object(u.jsx)(E.a,{className:J.a.Loader,type:"Puff",color:"#00BFFF",height:100,width:100,timeout:500})},U=Object(n.lazy)((function(){return a.e(3).then(a.bind(null,97))})),W=Object(n.lazy)((function(){return a.e(4).then(a.bind(null,98))})),K=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={title:null,release_date:null,vote_average:null,overview:null,genres:[],poster_path:null},e.handleGoBack=function(){var t,a=e.props,n=a.location;a.history.push((null===n||void 0===n||null===(t=n.state)||void 0===t?void 0:t.from)||l.movies)},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.movieId;_.a.GetMovieDetails(t).then((function(t){return e.setState(Object(G.a)({},t))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{type:"button",onClick:this.handleGoBack,children:"Go back"}),Object(u.jsx)(P,{state:this.state}),Object(u.jsx)("h3",{children:"Additional information"}),this.state.isLoading&&Object(u.jsx)(R,{}),Object(u.jsx)(H,{url:this.props.match.url}),Object(u.jsx)(n.Suspense,{fallback:Object(u.jsx)(R,{}),children:Object(u.jsxs)(v.c,{children:[Object(u.jsx)(v.a,{path:"".concat(this.props.match.url,"/cast"),render:function(t){return Object(u.jsx)(U,Object(G.a)(Object(G.a)({},t),{},{id:e.props.match.params.movieId}))}}),Object(u.jsx)(v.a,{exact:!0,path:"".concat(this.props.match.url,"/reviews"),render:function(t){return Object(u.jsx)(W,Object(G.a)(Object(G.a)({},t),{},{id:e.props.match.params.movieId}))}})]})})]})}}]),a}(n.Component),Z=function(){return Object(u.jsx)("h1",{children:"Movie not found !!!"})},Q=function(){return Object(u.jsx)("main",{children:Object(u.jsxs)(v.c,{children:[Object(u.jsx)(v.a,{exact:!0,path:l.home,component:y}),Object(u.jsx)(v.a,{path:l.movieDetails,component:K}),Object(u.jsx)(v.a,{path:l.moviePage,component:F}),Object(u.jsx)(v.a,{component:Z})]})})},V=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(h,{}),Object(u.jsx)(Q,{})]})};c.a.render(Object(u.jsx)(s.a,{children:Object(u.jsx)(V,{})}),document.querySelector("#root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.26faaf52.chunk.js.map